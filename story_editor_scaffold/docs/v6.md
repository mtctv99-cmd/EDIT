Cách tái thiết kế màn hình chờ (StartScreen): Hero, nút New/Open, khu Recent.

Cách tổ chức code (start_screen.py, Settings để lưu recent).

Cách context menu recent hoạt động.

Cách style với Qt stylesheet.

Ghi chú mở rộng (Undo/Redo, API, Prompt dropdown) để sau áp dụng tương tự.

# v6.md – Hướng dẫn thiết kế lại màn hình chờ (Start Screen)

## 1. Mục tiêu
- Màn hình chờ (Start Screen) cần **gọn – đẹp – chuyên nghiệp**.
- Có **hero section** (title + subtitle).
- Hai nút chính: **New Project** và **Open Project**, hiển thị to và cân đối.
- Danh sách **Recent Projects** hiển thị rõ, có context menu để quản lý.
- Lưu đường dẫn recent qua `Settings`, có thể gỡ hoặc xoá toàn bộ.
- Dùng **Qt StyleSheet** để kiểm soát giao diện.

---

## 2. Cấu trúc giao diện



┌──────────────────────────────────────┐
│ Story Editor │ ← Hero Title
│ Biên tập truyện nhanh: ... │ ← Hero Subtitle
│ │
│ [ ➕ New Project ] [ 📂 Open Project ]│ ← Hai nút chính
│ │
│ Gần đây [Xoá danh sách] │ ← Recent Header
│ ┌───────────────────────────┐ │
│ │ 🗂 path/to/project.json │ │
│ │ 🗂 another/project.json │ │
│ └───────────────────────────┘ │
└──────────────────────────────────────┘


---

## 3. Các thành phần chính

### 3.1 Hero Section
- **Title**: font-size ~44px, bold, màu đậm.
- **Subtitle**: font-size ~14px, màu nhạt, mô tả ngắn gọn.

### 3.2 Action Card
- `QFrame` nền trắng, viền nhạt, bo góc 14px.
- Bên trong có `QHBoxLayout` chứa 2 nút ngang hàng:
  - `➕ New Project`
  - `📂 Open Project`
- Nút cao tối thiểu 44px, màu xanh (`#2563eb`), hover đậm hơn.

### 3.3 Recent Projects
- Tiêu đề **Gần đây** bên trái, bên phải có `QToolButton` **Xoá danh sách**.
- `QListWidget` chứa danh sách project:
  - Hiển thị `🗂 path/to/project.json`.
  - `itemDoubleClicked` → mở project.
  - **Context Menu**:
    - **Mở**
    - **Gỡ khỏi Gần đây**
    - **Mở thư mục chứa**

---

## 4. Logic Recent

### Lưu và tải lại recent
- Dùng class `Settings` để get/set `recent_files`.
- Khi mở hoặc tạo project:
  - Gọi `Settings.add_recent(path)`.
- Khi click **Xoá danh sách**:
  - Set `recent_files = []`.

### Context menu
- Khi click chuột phải vào 1 item:
  - `Mở` → gọi `self.host.open_editor(filepath=path)`.
  - `Gỡ khỏi Gần đây` → xoá path khỏi Settings.
  - `Mở thư mục chứa` → `os.startfile(folder)` (Windows).

---

## 5. StyleSheet gợi ý

```css
#HeroTitle {
    font-size: 44px;
    font-weight: 800;
    color: #0f172a;
}
#HeroSubtitle {
    color: #5b6476;
    font-size: 14px;
}
#ActionCard {
    background: #ffffff;
    border: 1px solid #e6e8ef;
    border-radius: 14px;
}
#PrimaryButton {
    background: #2563eb;
    color: white;
    border-radius: 10px;
    padding: 10px 18px;
}
#RecentList {
    background: #ffffff;
    border: 1px solid #e6e8ef;
    border-radius: 12px;
}
QListWidget::item:selected {
    background: #eef2ff;
    color: #111827;
}

6. Ghi chú mở rộng

Có thể thêm thumbnail preview trong Recent để dễ nhận diện.

Giao diện này là “khung chờ” → khi chọn New/Open sẽ ẩn và load Editor.

Undo/Redo, Prompt dropdown, API context (Gemini CLI) sẽ tích hợp vào Editor sau, không ảnh hưởng đến StartScreen.

7. Kết quả mong đợi

Màn hình chờ chuyên nghiệp, gọn gàng.

Người dùng dễ dàng tạo mới, mở lại hoặc tiếp tục với project gần đây.

Giao diện không “lỏng lẻo” mà có bố cục rõ ràng, dễ mở rộng.